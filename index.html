<html>
<script>
let count;
let deck

function initlize() {
	//luckyNumber = prompt("Please choose your lucky number between (0-51)", "");
	count=0;
	deck = shuffle([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51]);
}

function validate() {
	var luckyNumber = document.getElementById("luckyNumber").value;
	if (luckyNumber==="" || isNaN(luckyNumber) || luckyNumber < 0 || luckyNumber > 51) {
		alert("Please input your lucky number (0-51).");
		document.getElementById("luckyNumber").value="";
	} else {
		document.getElementById("luckyNumber").disabled=true;
		play(luckyNumber);
	}
}

function shuffle(array) {
  var m = array.length;
  var t;
  var i;

  // While there remain elements to shuffle…
  while (m) {

    // Pick a remaining element…
    i = Math.floor(Math.random() * m--);

    // And swap it with the current element.
    t = array[m];
    array[m] = array[i];
    array[i] = t;
  }
  return array;
}
function shuffle1(){
	document.getElementById("deck").innerHTML = shuffle(deck);
}

function play(luckyNumber) {
	/*if(count > 25) {
		alert("Game Over.");
		return;
	} */
	count++;
	var userValue = deck.pop() ;
	var computerValue = deck.pop();
	
	var table = document.getElementById("board");

	//var rowCount = table.rows.length;
	var row = table.insertRow(1);

	//Sequence Number
	var cell1 = row.insertCell(0);
	cell1.innerHTML = count;
	
	var cell1 = row.insertCell(1);
	cell1.innerHTML = userValue;
	
	var cell2 = row.insertCell(2);
	cell2.innerHTML = computerValue;
	
	if(luckyNumber == userValue) {
		document.getElementById("result").innerHTML = "<B>Congratulation You Won Game in " + count + " chance !!!</B>";
		document.getElementById("result").classList.add('alert-success');
		document.getElementById("play").disabled=true;
	} else if(luckyNumber == computerValue) {
		document.getElementById("result").innerHTML = "<B>Sorry You Lost Game !!!</B>";
		document.getElementById("result").classList.add('alert-danger');
		document.getElementById("play").disabled=true;
	}
}
</script>
<head>
	<Title> Try your luck - By Kundan Jha</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
</head>
<body onload="initlize()">
<div class=".container-fluid">
	<center><H1>Try Your Luck !!!</h1></center>
	<div class="input-group input-group-lg">
		<input type="text" class="form-control" id="luckyNumber" placeholder="Input your lucky number between 0-51" aria-describedby="inputGroup-sizing-lg"/>
		<Button id="play" onClick="validate()" class="btn btn-primary btn-lg btn-block">Play</Button>
	</div>
	
	<div id="result" class="alert" role="alert" >
	</div>
	
	<div class=".container-fluid">
		<table id="board" class="table table-striped table-bordered" style="height:100px; overflow-x:auto;">
			<thead class="thead-dark">
				<tr>
				  <th scope="col">#</th>
				  <th scope="col">You</th>
				  <th scope="col">Computer</th>
				</tr>
			</thead>
			<tbody style="overflow-y:scroll"></tbody>
		</table>
	</div>
</div>
</body>
</html>